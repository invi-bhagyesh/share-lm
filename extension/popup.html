<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title>ShareLM</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="index_frame.css">
</head>

<body>
  <!-- Navigation Bar -->
  <nav class="navbar">
    <div class="navbar-brand">
      <span class="brand-icon">üí¨</span>
      <span class="brand-text">ShareLM</span>
    </div>
    <div class="navbar-nav">
      <button class="nav-btn active" data-page="dashboard">Dashboard</button>
      <button class="nav-btn" data-page="conversations">Conversations</button>
      <button class="nav-btn" data-page="settings">Settings</button>
      <button class="nav-btn" data-page="help">Help</button>
    </div>
  </nav>

  <!-- Age Verification Section -->
  <div id="conditions" class="page-section hidden">
    <div class="card verification-card">
      <h2>Welcome to ShareLM!</h2>
      <p>To activate the plugin, please confirm the terms of use</p>
      <button id="terms-of-use-button" class="btn btn-primary">Terms of Use</button>
    </div>
  </div>

  <!-- Unsupported Site Message -->
  <div id="unsupported-message" class="page-section hidden">
    <div class="card warning-card">
      <h3>Site Not Supported</h3>
      <p>This site is not supported. Please try:</p>
      <div class="link-buttons">
        <a href="https://huggingface.co/chat/" target="_blank" class="btn btn-secondary">HuggingFace Chat</a>
        <a href="https://huggingface.co/spaces/eswardivi/Phi-3-mini-128k-instruct" target="_blank"
          class="btn btn-secondary">Phi-3 Space</a>
      </div>
    </div>
  </div>

  <!-- Dashboard Page -->
  <div id="dashboard-page" class="page-section active">
    <div class="page-header">
      <h1>Dashboard</h1>
    </div>

    <div class="stats-grid">
      <div class="stat-card">
        <div class="stat-icon">üí¨</div>
        <div class="stat-content">
          <div class="stat-number" id="conversations-shared">-</div>
          <div class="stat-label">Messages Sent</div>
        </div>
      </div>
      <div class="stat-card">
        <div class="stat-icon">üë•</div>
        <div class="stat-content">
          <div class="stat-number" id="total-contributors">1.2K</div>
          <div class="stat-label">Total Contributors</div>
        </div>
      </div>
      <div class="stat-card">
        <div class="stat-icon">üíæ</div>
        <div class="stat-content">
          <div class="stat-number" id="dataset-size">45MB</div>
          <div class="stat-label">Dataset Size</div>
        </div>
      </div>
      <div class="stat-card">
        <div class="stat-icon">‚úÖ</div>
        <div class="stat-content">
          <div class="stat-number" id="privacy-score">98%</div>
          <div class="stat-label">Privacy Score</div>
        </div>
      </div>
    </div>

    <!-- Progress Card - Only show if there are pending conversations -->
    <div class="card progress-card" id="progress-card" style="display: none;">
      <h3>Pending Conversations</h3>
      <div class="progress-info">
        <span id="progress-text">0 conversations ready to share</span>
        <span id="progress-percentage">0%</span>
      </div>
      <div class="progress-bar">
        <div class="progress-fill" id="progress-fill" style="width: 0%"></div>
      </div>
      <p class="progress-note">Conversations are automatically published after 24 hours</p>
    </div>

    <!-- Quick Actions -->
    <div class="card actions-card">
      <h3>Quick Actions</h3>
      <div class="actions-grid">
        <button id="publish-quick-btn" class="action-btn">
          <span class="action-icon">üöÄ</span>
          <span>Publish Pending</span>
        </button>
        <button id="download-quick-btn" class="action-btn">
          <span class="action-icon">üì•</span>
          <span>Download Data</span>
        </button>
        <button id="clear-data-btn" class="action-btn">
          <span class="action-icon">üóëÔ∏è</span>
          <span>Clear Data</span>
        </button>
        <button id="copy-user-id-btn" class="action-btn">
          <span class="action-icon">üÜî</span>
          <span>Copy User ID</span>
        </button>
      </div>
    </div>
  </div>

  <!-- Conversations Page -->
  <div id="conversations-page" class="page-section">
    <div class="page-header">
      <h1>Conversations</h1>
      <div class="search-container">
        <input type="text" id="conversation-search" placeholder="Search conversations..." class="search-input">
      </div>
    </div>

    <div class="conversations-summary" id="conversations-summary">
      <div class="summary-card">
        <span id="total-conversations">0</span> total conversations
      </div>
    </div>

    <div class="conversations-list" id="conversations-list">
      <div class="loading-state">Loading conversations...</div>
    </div>

    <div class="card actions-card">
      <div class="actions-grid">
        <button id="download-csv-btn" class="btn btn-primary">
          üì• Download CSV
        </button>
        <button id="publish-all-btn" class="btn btn-primary">
          üöÄ Publish All
        </button>
      </div>
    </div>
  </div>

  <!-- Settings Page -->
  <div id="settings-page" class="page-section">
    <div class="page-header">
      <h1>Settings</h1>
    </div>

    <!-- Sharing Preferences -->
    <div class="card settings-card">
      <h3>Sharing Preferences</h3>
      <div class="setting-item">
        <div class="setting-info">
          <label>Auto-share conversations</label>
          <p>Automatically share new conversations with the community</p>
        </div>
        <div class="toggle-switch">
          <input type="checkbox" id="auto-share-toggle" checked>
          <span class="slider"></span>
        </div>
      </div>
      <div class="setting-item">
        <div class="setting-info">
          <label>Include metadata</label>
          <p>Share demographic information with conversations</p>
        </div>
        <div class="toggle-switch">
          <input type="checkbox" id="metadata-toggle" checked>
          <span class="slider"></span>
        </div>
      </div>
      <div class="setting-item">
        <div class="setting-info">
          <label>Anonymous sharing</label>
          <p>Remove identifying information before sharing</p>
        </div>
        <div class="toggle-switch">
          <input type="checkbox" id="anonymous-toggle" checked>
          <span class="slider"></span>
        </div>
      </div>
    </div>

    <!-- User Information -->
    <div class="card settings-card">
      <h3>User Information</h3>
      <form id="user-info-form">
        <div class="form-group">
          <label for="user-age">Age</label>
          <input type="number" id="user-age" min="18" class="form-input">
        </div>
        <div class="form-group">
          <label for="user-location">Country</label>
          <input type="text" id="user-location" class="form-input">
        </div>
        <div class="form-group">
          <label for="user-gender">Gender</label>
          <select id="user-gender" class="form-input">
            <option value="">Select Gender</option>
            <option value="Woman">Woman</option>
            <option value="Man">Man</option>
            <option value="Non-binary/Genderqueer/Third Gender">Non-binary/Genderqueer/Third Gender</option>
            <option value="Genderfluid/Gender non-conforming">Genderfluid/Gender non-conforming</option>
            <option value="Prefer not to say">Prefer not to respond</option>
            <option value="Specify your own">Specify your own</option>
          </select>
        </div>
        <div id="custom-gender-wrapper" class="form-group hidden">
          <label for="custom-gender">Specify Your Own Gender</label>
          <input type="text" id="custom-gender" class="form-input">
        </div>
        <button type="submit" class="btn btn-primary">Save Information</button>
      </form>
    </div>

    <!-- Data Management -->
    <div class="card settings-card">
      <h3>Data Management</h3>
      <div class="data-actions">
        <button id="export-data-btn" class="btn btn-secondary">Export All Data</button>
        <button id="clear-local-btn" class="btn btn-danger">Clear Local Storage</button>
      </div>
    </div>
  </div>

  <!-- Help Page -->
  <div id="help-page" class="page-section">
    <div class="page-header">
      <h1>Help & FAQ</h1>
    </div>

    <div class="faq-container">
      <div class="faq-item">
        <button class="faq-question">
          <span>I shared a conversation I want to keep private. What can I do?</span>
          <span class="faq-arrow">‚ñº</span>
        </button>
        <div class="faq-answer hidden">
          <p>Check the "Conversations" section for the conversation you want to remove. Found it? Great, click the
            remove button. If the conversation is older and you don't see it there anymore, use the contact form to
            ask
            to remove it.</p>
        </div>
      </div>

      <div class="faq-item">
        <button class="faq-question">
          <span>Will you share the dataset? With what license?</span>
          <span class="faq-arrow">‚ñº</span>
        </button>
        <div class="faq-answer hidden">
          <p>Yes! The conversations will be released with the most permissive restriction that is allowed by the
            specific model.</p>
        </div>
      </div>

      <div class="faq-item">
        <button class="faq-question">
          <span>What information are you collecting?</span>
          <span class="faq-arrow">‚ñº</span>
        </button>
        <div class="faq-answer hidden">
          <p>We collect a user-id, conversation-id, GMT timestamp, demo URL, conversation content (both user and
            model),
            and feedback you actively choose to provide. We don't collect identifying metadata like IP address or
            browser type.</p>
        </div>
      </div>

      <div class="faq-item">
        <button class="faq-question">
          <span>How can I disable sharing for a conversation?</span>
          <span class="faq-arrow">‚ñº</span>
        </button>
        <div class="faq-answer hidden">
          <p>You can choose not to share a particular conversation by clicking the 'do not share' button.
            Conversations
            are not posted to the database immediately, so you can review and remove them from the Conversations
            page.
          </p>
        </div>
      </div>
    </div>

    <!-- Contact Information -->
    <div class="card contact-card">
      <h3>Contact Us</h3>
      <p>Need help or want to remove conversations?</p>
      <a href="https://forms.gle/9GQYVrGwU6b6PH8AA" target="_blank" class="btn btn-primary">Contact Form</a>
      <p class="contact-email">Email: shareLM.project@gmail.com</p>
    </div>

    <!-- Share Buttons -->
    <div class="card share-card">
      <h3>Share ShareLM</h3>
      <div class="share-buttons">
        <a href="https://twitter.com/intent/tweet?text=I'm using this cool plugin to share my conversations with open-source LLMs to help the community. You can join too!&url=https%3A%2F%2Fchromewebstore.google.com%2Fdetail%2Fsharelm-share-your-chat-c%2Fnldoebkdaiidhceaphmipeclmlcbljmh"
          target="_blank" class="share-btn twitter">
          üê± Twitter
        </a>
        <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fchromewebstore.google.com%2Fdetail%2Fsharelm-share-your-chat-c%2Fnldoebkdaiidhceaphmipeclmlcbljmh"
          target="_blank" class="share-btn facebook">
          üìò Facebook
        </a>
        <a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fchromewebstore.google.com%2Fdetail%2Fsharelm-share-your-chat-c%2Fnldoebkdaiidhceaphmipeclmlcbljmh"
          target="_blank" class="share-btn linkedin">
          üíº LinkedIn
        </a>
      </div>
    </div>
  </div>

  <!-- Toast Notifications -->
  <div id="toast-container"></div>

  <script src="popup.js"></script>
</body>

</html>